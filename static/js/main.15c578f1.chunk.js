(this["webpackJsonproute-planner"]=this["webpackJsonproute-planner"]||[]).push([[0],{44:function(e,t,a){e.exports=a.p+"static/media/dragIcon.62cd9b58.svg"},45:function(e,t,a){e.exports=a.p+"static/media/deleteIcon.7cfdc2fe.svg"},48:function(e,t,a){e.exports=a(99)},58:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"ADD_COORDINATES",(function(){return u})),a.d(n,"REORDER_COORDINATES",(function(){return m})),a.d(n,"DELETE_COORDINATES",(function(){return p}));var r={};a.r(r),a.d(r,"getRouteCoordinates",(function(){return E}));var c=a(0),o=a.n(c),l=a(6),s=a.n(l),i=a(3),d=a(14);const u="ADD_COORDINATES",m="REORDER_COORDINATES",p="DELETE_COORDINATES",E=e=>e.route.coordinates;var b=a(7),O=a(16);var g=(e,t,a)=>{const n=[...a],r=n.splice(e,1),c=Object(O.a)(r,1)[0];return n.splice(t,0,c),n};var v=(e,t)=>t.filter(t=>t.id!==e);const y={coordinates:[]};const f=Object(d.b)({route:(e=y,t)=>{switch(t.type){case u:return Object(b.a)({},e,{coordinates:[...e.coordinates,t.payload]});case m:return Object(b.a)({},e,{coordinates:g(t.payload.source,t.payload.destination,e.coordinates)});case p:return Object(b.a)({},e,{coordinates:v(t.payload,e.coordinates)});default:return e}}}),j=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();var I=Object(d.c)(f,j),R=a(22);const D=({lat:e,lng:t})=>({lat:e(),lng:t(),id:Object(R.uniqueId)("point-")}),C=e=>e.map(({lat:e,lng:t})=>({lat:()=>e,lng:()=>t}));var N=o.a.createContext({}),k=a(40),w=a.n(k);var h=e=>{Object(c.useEffect)(()=>{let t=!0;return w()({key:"AIzaSyBCbeUFkZ9KzIQy_7ziGyVB0fr2ERKd5bI"}).then(a=>{t&&e(a)}).catch(e=>{t&&console.error(e)}),()=>{t=!1}},[e])};var S=({center:e,zoom:t,onClick:a,children:n,className:r})=>{const l=Object(c.useRef)(),s=Object(c.useRef)(),i=Object(c.useState)(!0),d=Object(O.a)(i,2),u=d[0],m=d[1],p=Object(c.useState)(!1),E=Object(O.a)(p,2),b=E[0],g=E[1],v=Object(c.useCallback)(n=>(m(!1),s.current={googleAPI:n,mapInstance:new n.Map(l.current,{zoom:t,center:e,mapTypeId:"terrain"})},s.current.mapInstance.addListener("click",e=>{a(e.latLng)}),g(!0),()=>{s.current.googleAPI.event.clearListeners(s.current.mapInstance,"click")}),[e,t,a]);return h(v),u?o.a.createElement("div",null,"Loading..."):o.a.createElement("div",{className:r,ref:l},b&&o.a.createElement(N.Provider,{value:s.current},n))};var _=o.a.memo(({position:e,iconStyle:t,labelOptions:a})=>{const n=Object(c.useContext)(N),r=n.googleAPI,l=n.mapInstance;return Object(c.useEffect)(()=>{const n=new r.Marker({position:e,title:a.title,map:l,label:{text:a.label,color:a.color},icon:Object(b.a)({path:r.SymbolPath.CIRCLE},t)});return()=>{n.setMap(null)}},[r,l,e,t,a.title,a.label,a.color]),o.a.createElement(c.Fragment,null)},(e,t)=>Object(R.isEqual)(e,t));var x=({polylineOptions:e,coordinates:t})=>{const a=Object(c.useContext)(N),n=a.googleAPI,r=a.mapInstance;return Object(c.useEffect)(()=>{const a=new n.Polyline(e);a.setMap(r);const c=a.getPath();return t.forEach(e=>{c.push(e)}),()=>{a.setMap(null)}},[n,r,t,e]),o.a.createElement(c.Fragment,null)};var A=()=>{const e=Object(i.c)(r.getRouteCoordinates);return(o.a.createElement(c.Fragment,null,e.map((e,t)=>o.a.createElement(_,{labelOptions:{color:"white",label:"".concat(t+1),title:"Waypoint ".concat(t+1)},position:e,key:e.id,iconStyle:{strokeWeight:0,scale:16,fillColor:"#000",fillOpacity:1}})),e.length>1&&o.a.createElement(x,{coordinates:C(e),polylineOptions:{strokeColor:"#1086E7",strokeOpacity:1,strokeWeight:5}})))};a(58);const T={lat:37.234332396,lng:-115.80666344};var P=()=>{const e=Object(i.b)(),t=Object(c.useCallback)(t=>e({type:n.ADD_COORDINATES,payload:D(t)}),[e]);return o.a.createElement("div",{className:"map"},o.a.createElement(S,{className:"map-container",onClick:t,center:T,polyLineOptions:{strokeColor:"#000000",strokeOpacity:1,strokeWeight:3},zoom:9},o.a.createElement(A,null)))},L=a(23);const z=({items:e,onReorder:t,listItem:a})=>{const n=a;return o.a.createElement(L.a,{onDragEnd:e=>{e.destination&&t(e.source.index,e.destination.index)}},o.a.createElement(L.c,{droppableId:"droppable"},(t,a)=>o.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef,style:(a.isDraggingOver,{padding:8,width:"100%",boxSizing:"border-box"})}),e.map((e,t)=>o.a.createElement(L.b,{key:e.id,draggableId:e.id,index:t},(a,r)=>{return o.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:(c=r.isDragging,l=a.draggableProps.style,Object(b.a)({userSelect:"none",padding:"".concat(16," 0"),margin:"0 0 ".concat(8,"px 0"),background:c?"rgb(195, 228, 82)":""},l))}),o.a.createElement(n,{index:t,item:e}));var c,l})),t.placeholder)))};z.defaultProps={items:[]};var M=z,B=a(44),W=a.n(B),F=a(45),X=a.n(F);a(93);var U=({index:e,item:t,onDelete:a})=>o.a.createElement("div",{className:"waypoint"},o.a.createElement("div",{className:"waypoint-dragHandle"},o.a.createElement("i",{className:"waypoint-icon"},o.a.createElement("img",{src:W.a,alt:"drag"}))),o.a.createElement("div",{className:"waypoint-name"},"Waypoint ",e+1),o.a.createElement("div",{className:"waypoint-actions"},o.a.createElement("i",{tabIndex:0,role:"button",className:"waypoint-icon",onClick:()=>{a(t.id)}},o.a.createElement("img",{src:X.a,alt:"delete"}))));a(94);var V=()=>{const e=Object(i.c)(r.getRouteCoordinates),t=Object(i.b)(),a=Object(c.useCallback)((e,a)=>{t({type:n.REORDER_COORDINATES,payload:{source:e,destination:a}})},[t]),l=Object(c.useCallback)(e=>{t({type:n.DELETE_COORDINATES,payload:e})},[t]);return o.a.createElement("div",{className:"route-control"},o.a.createElement(M,{listItem:e=>o.a.createElement(U,Object.assign({},e,{onDelete:l})),onReorder:a,items:e}))},q=a(46);var H=e=>new Blob([e],{type:"text/xml;charset=utf-8"}),J=a(47),K=a.n(J);const G=e=>o.a.createElement("gpx",e),Q=e=>o.a.createElement("rte",e),Y=e=>o.a.createElement("rtept",e);var Z=({coordinates:e})=>o.a.createElement(G,{version:"1.1",creator:"route-planner"},o.a.createElement(Q,{name:"Your route"},e.map(({lat:e,lng:t,id:a})=>o.a.createElement(Y,{lat:e,lng:t,key:a}))));var $=e=>{const t=K.a.renderToStaticMarkup(o.a.createElement(Z,{coordinates:e}));return'<?xml version="1.0"?>\n'.concat(t)};a(96);var ee=()=>{const e=Object(i.c)(r.getRouteCoordinates),t=0!==e.length;return o.a.createElement("div",null,o.a.createElement("button",{type:"button",disabled:!t,onClick:()=>{if(t){const t=$(e);Object(q.saveAs)(H(t),"route.gpx")}},className:"download-button"},"Download your Route"))};a(97);var te=e=>o.a.createElement("div",{className:"dashboard"},o.a.createElement("h3",null,"Route Builder"),o.a.createElement("div",{className:"routecontrol-wrapper"},o.a.createElement(V,null)),o.a.createElement("div",{className:"download-wrapper"},o.a.createElement(ee,null)));var ae=()=>o.a.createElement("div",{className:"App"},o.a.createElement(te,null),o.a.createElement(P,null));a(98);s.a.render(o.a.createElement(i.a,{store:I},o.a.createElement(ae,null)),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.15c578f1.chunk.js.map